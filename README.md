# 百度大脑 EdgeBoard Lite FZ3B（4GB内存版本）Vivado工程参考
这是一个将用在智能车比赛的推理模块作为ZU3EG开发板使用的项目，不定期更新例程，同时提供一些官方资料

Vivado版本为21.2
## 板子介绍
百度大脑这个东西被设计出来的初衷是作为[智能车比赛的推理模块](https://ai.baidu.com/ai-doc/HWCE/9kr0f9lev)使用，设计是委托黑金做的，并且由于参加百度赛道都要使用这个模块，导致早期的FZ3型号在市面上保有量较多，同时因为是好几年前的版本，现在的百度大脑都更新到使用ZU9了，ZU3的FZ3版本价格上相较于发售时也低了很多（垃圾佬狂喜）

不过我并没有打过智能车比赛，也不是搞边缘计算推理模型的，相反，我更偏向于搞Zynq开发，从开发板的角度去看这个板子，可以发现他算是一个还可以的MPSoC开发板：
![FZ3B外观图片](/README图片素材/FZ3B硬件外观.png)
但是不足之处也是有的：
- 百度大脑作为一个推理模块，设计之初并没有考虑到用户会像用开发板那样频繁烧录JTAG，所以他的JTAG是以排针形式存在的，同时也没有FT2232之类的整合串口，想要看串口打印要额外接线
- 也许是考虑到了智能车比赛用12V电源比较多，他的供电使用的是12V电源，配件里面倒是有DC电源，不过外观也不是很好看，同时也没有电源开关，依靠拔插接头上下电非常费手

剩下的就是一些小缺点了，比如什么没有PL的DDR（~~这个确实有点强人所难了~~）、预留IO接口不是间距2.54规格、以及串口的接口是miniUSB这种古老接口（~~也许2019年type-C并没有那么普及~~）等等，但话又说回来了，作为一个700￥左右有详细资料的ZU3 MPSoC开发板，这还能要什么自行车（~~炸了也要夸他响~~
## 首次使用注意事项
- 从硬件介绍手册中可以知道，FZ3B支持JTAG、SD卡、EMMC、Flash四种启动方式，启动模式的切换依靠模式选择的拨码开关实现，在硬件手册中拨码的顺序表格从左到右是**4、3、2、1**，而实际拨码开关从左到右的顺序是**1、2、3、4**，拨的时候要格外注意顺序（~~黑金你写手册的时候把顺序正过来很难吗~~）：
![拨码顺序](/README图片素材/拨码顺序.png)
- 在板子上有一个miniUSB的串口接口，用于观察打印日志，关于该串口有两点要注意：
    - 首先是该串口使用的USB转串口芯片是CP2102，如果之前没有使用过这个芯片首次使用时需要安装[驱动](https://micoair.cn/docs/CP2102-qu-dong-an-zhuang-jiao-cheng-Windows)：
    ![USB转串口示意图](/README图片素材/USB转串口示意图.png)
    - 从硬件介绍文件可以知道，这个串口实际上接的是PS的UART1，如果同时开了UART0和UART1的话，在Vitis开发中默认printf/xilprintf函数重定向的是UART0，为了使这个串口可以正常使用，我们需要在Vitis中做如下更改（如果是FreeRTOS则在Overview下面显示的是freertos）：
    ![串口重定向](/README图片素材/Vitis串口重定向.png)

